{% extends 'main.html' %}

{% block content %}
<div class="detail-container">
    <h2>{{room.room_name}}</h2>
    <p><strong>รหัสห้อง:</strong> {{room.room_id}}</p>
    <p><strong>จำนวนชั่วโมงที่สามารถให้บริการ:</strong> {{room.room_hours}} ชั่วโมง</p>
    <p><strong>สถานะห้อง:</strong> {{ room.status|yesno:"เปิดให้บริการ,ปิดให้บริการ" }}</p>
    <p><strong>รายละเอียด:</strong> {{room.description}}</p>

    <div class="detail-actions">
        {% if not request.user.is_superuser and room.status == True %}
            <a href="{% url 'room-booking' room.room_id %}" class="btn btn-primary btn-lg">จองห้องนี้</a>
        {% endif %}

        {% if request.user.is_superuser %}
            <a href="{% url 'update-room' room.room_id %}" class="btn btn-secondary">Edit</a>
            <a href="{% url 'delete-room' room.room_id %}" class="btn btn-danger">Delete</a>
        {% endif %}
    </div>

    {% if request.user.is_superuser %}
        <h3>รายชื่อผู้ที่จองห้องนี้:</h3>
        <ul class="booking-list">
            {% for booking in bookings %}
                <li>{{ booking.user.get_full_name|default:booking.user.username }}</li>
            {% empty %}
                <li>ยังไม่มีการจอง</li>
            {% endfor %}
        </ul>
    {% endif %}
</div>
{% endblock %}